# ex: set syn=nginx:
# Nginx configuration to run rutorrent frontend in a separate virtualhost.

server {
    listen 127.0.0.1:80;
    listen [::1]:80;

    server_name rutorrent.local;
    root /usr/share;

    # Enable authentication for multiuser configuration
    #auth_basic "rutorrent login/password";
    #auth_basic_user_file /var/run/rutorrent/users.htpasswd;

    location /conf {
        deny all;
    }

    location /share {
        deny all;
    }

    location ~ \.php$ {
        include fastcgi_params;
        fastcgi_pass unix:/var/run/rutorrent/php5-fpm.sock;
        fastcgi_param SCRIPT_FILENAME /usr/share$fastcgi_script_name;
    }

    location /RPC2 {
        include scgi_params;
        scgi_pass unix:/var/run/rutorrent/rtorrent.sock;
    }

    # You may want to log domain logs to separate files
    #access_log /var/log/nginx/rutorrent.local.access.log;
    #error_log  /var/log/nginx/rutorrent.local.error.log warn;

}
